---
title: 存储库现代化器(CAM)
description: 了解如何重构现有项目包，使其与为Adobe Experience Manager as a Cloud Service定义的项目结构兼容。
feature: Migration
role: Admin
source-git-commit: 317ee65786d48d7b92d95c7c6b8782f617d6e346
workflow-type: tm+mt
source-wordcount: '1099'
ht-degree: 2%

---


# 存储库现代化器(CAM) {#repo-modernizer-cam}

Repository Modernizer是一个实用程序，开发用于通过将内容和代码分隔到单独的软件包来重构现有项目软件包，以便与为Adobe Experience Manager as a Cloud Service定义的项目结构兼容。

## 简介 {#introduction}

Adobe Experience Manager as a Cloud Service为您的AEM项目提供了许多新功能和可能性。 但是，需要对Adobe Experience Manager Maven项目进行一些更改才能与AEM Cloud Service兼容。 在高级别上，AEM要求将&#x200B;**内容**&#x200B;和&#x200B;**代码**&#x200B;分离为离散的子包，以遵循可变和不可变内容之间的拆分。 有关AEM的新AEM项目结构的更多详细信息，请参阅[Cloud Service项目结构](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/developing/aem-project-content-package-structure.html?lang=zh-Hans)。

存储库现代化器通过创建以下部署结构来创建兼容的AEM Cloud Service项目结构：

- `ui.apps`包部署到`/apps`并包含所有代码

- `ui.content`包部署到运行时可写区域（例如，`/content`、`/conf`、`/home`或非`/apps`的任何区域）并包含所有内容和配置。

- `all`包是包含子包`ui.apps`和`ui.content`的容器包。

>[!NOTE]
>
> 项目结构基于包及其`pom.xml/filter.xml files`的&#x200B;_原型48_。 有关详细信息，请参阅[原型48](https://github.com/adobe/aem-project-archetype)。

Repository Modernizer现在还支持以下项目类型：

- **MULTI_PROJECT**：表示没有公共父POM、调度程序和所有模块的多模块项目。
- **SINGLE_PROJECT**：表示单个项目。
- **NESTED_PROJECT**：表示具有公共父POM、调度程序和所有模块的多模块项目。
- **MONOLITHIC_PROJECT**：表示包含一个或多个子项目的主项目。

## 使用存储库现代化器 {#using-repo-modernizer}

>[!VIDEO](https://video.tv.adobe.com/v/333057/?quality=12&learn=on)

- Repository Modernizer现在由重构服务在“重构作业”选项卡下自动调用。 客户只需上传其项目并触发重构作业即可，无需其他设置。

## 错误代码引用

如果在使用Repository Modernizer时遇到错误代码，请参阅下表以了解详细信息和建议的操作。

| 错误代码 | 消息 | 描述 | 需要用户操作？ |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | --------------------- |
| RM-100 | 将OSGi配置文件{0}转换为.cfg.json格式时出错。 请在重试之前验证现有配置文件。 | 在将OSGi配置文件转换为.cfg.json格式的过程中遇到问题时，会发生此错误。 | 是 |
| RM-101 | 尝试复制以下内容时出错： {0} | 当尝试从指定的源复制内容时失败时，会发生此错误。 | 否 |
| RM-102 | 尝试将文件{0}从{1}移动到{2}时出错。 | 当将文件从一个位置移动到另一个位置时出现问题时，会发生此错误。 | 否 |
| RM-103 | 无法将给定路径解析为有效文件： {0} | 如果在给定位置找不到文件，则会出现此错误。 | 否 |
| RM-104 | 迭代{0}的内容时出错。 | 遍历文件或目录期间出现此错误，指示访问或处理内容时出现问题。 | 否 |
| RM-105 | 尝试分析XML文件时出错： {0}。 请在重试之前验证XML文件。 | 当分析XML文件失败时，会发生此错误。 | 是 |
| RM-106 | 写入XML文件时出错： {0}。 | 在写入XML文件时出现此错误。 | 否 |
| RM-107 | 在现有项目中找不到内容包： {0}。 请验证是否上载了正确的项目。 | 此错误表示在现有项目中未找到内容包。 | 是 |
| RM-108 | 在预期的路径下找不到POM文件： {0}。 项目或模块的POM文件应作为子文件直接位于其目录中。 | 如果在预期位置找不到POM文件，则会出现此错误。 | 是 |
| RM-109 | 尝试解析pom.xml文件时出错： {0}。 请在重试之前验证pom文件。 | 在解析pom.xml文件时出现此错误。 | 是 |
| RM-110 | 写入pom.xml文件时出错： {0}。 | 当写入pom文件时出现问题时，会发生此错误。 | 否 |
| RM-111 | 写入报告文件时出错。 | 在写入报告文件的过程中发生故障时，会发生此错误。 | 否 |
| RM-112 | 在({1})的存储库结构pom文件中找不到{0} | 在AEM项目原型模板中找不到所需的配置时，会发生此错误。 | 否 |
| RM-113 | 尝试将AEM项目原型模板复制到目标时出错。 | 在将AEM项目原型模板复制到目标时出现此错误。 | 否 |
| RM-115 | 尝试连接到Azure Blob存储时出错。 | 当连接到Azure Blob Storage时出现此错误。 | 否 |
| RM-116 | 尝试将文件上传到Azure Blob存储时出错： {0}。 | 在将文件上载到Azure Blob Storage时出现此错误。 | 否 |
| RM-117 | 尝试从Azure Blob存储下载文件{0}时出错。 | 当从Azure Blob存储下载文件时出现问题时，会发生此错误。 | 否 |
| RM-118 | 处理{0}时发生I/O错误。 | 当从项目文件读取或写入项目文件时发生问题时，会发生此错误。 | 否 |
| RM-119 | 尝试存档上传到Azure的结果时出现I/O错误。 | 当存档进程生成的结果时出错，会出现此错误。 | 否 |
| RM-120 | 尝试取消存档提供的项目zip时出现I/O错误。 请检查提供的项目zip文件是否有效。 | 取消存档给定客户项目时出现此错误。 | 是 |
| RM-121 | 写入配置文件时出错。 | 在写入配置文件的过程中发生故障时，会发生此错误。 | 否 |
| RM-122 | 不支持的请求类型： {0}。 | 当系统不支持请求类型时，会发生此错误。 请检查请求类型并重试。 | 否 |

## 了解调查结果报告优先级

下载由Repository Modernizer工具生成的发现结果报告时，每个发现结果都分配有&#x200B;**优先级**。 以下优先级有助于您了解每个问题的紧迫性和影响：

| 优先级 | 描述 |
| -------- | ----------------------------------------------------------------------------------------------- |
| 关键 | 必须解析才能成功构建项目。 |
| 高 | 应该解决以确保AEM中的功能未损坏。 |
| 标准 | 应该解决这个问题，以确保现代化的整体健全和完整。 |
| 低 | 对于手动验证；这些发现仅供参考，不需要立即操作。 |

>[!NOTE]
> 
>建议首先解决更高优先级的调查结果，以确保顺利的现代化和部署过程。
